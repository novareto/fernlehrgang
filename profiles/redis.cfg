[buildout]

parts +=
    redis
    redis-build
    redis-server
    redis-client

[redis]
recipe = hexagonit.recipe.download
strip-top-level-dir = true
url = http://redis.googlecode.com/files/redis-2.6.2.tar.gz


[redis-build]
recipe = collective.recipe.cmd
on_install = true
on_update = false
cmds = cd ${redis:location} && make


[redis-server]
recipe = collective.recipe.scriptgen
cmd = ${redis:location}/src/redis-server
arguments =
    ${buildout:directory}/parts/redis/redis.conf


[redis-client]
recipe = collective.recipe.scriptgen
cmd = ${redis:location}/src/redis-cli
